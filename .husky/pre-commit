#!/bin/sh

echo "ğŸ” Running pre-commit checks..."

# Run lint-staged (ESLint + Prettier on staged files)
echo "ğŸ“ Running lint-staged..."
pnpm lint-staged || {
  echo "âŒ lint-staged failed. Please fix the errors above."
  exit 1
}

# Run full type check (types depend on the entire project)
echo "ğŸ” Running type check..."
pnpm typecheck || {
  echo "âŒ Type check failed. Please fix the type errors above."
  exit 1
}

# Run format check on the entire project
echo "ğŸ¨ Checking code formatting..."
pnpm format:check || {
  echo "âŒ Format check failed. Run 'pnpm format' to fix formatting issues."
  exit 1
}

echo "âœ… All pre-commit checks passed!"
